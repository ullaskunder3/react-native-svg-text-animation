import { StatusBar } from 'expo-status-bar';
import { useEffect } from 'react';
import { Dimensions, StyleSheet, Text, View } from 'react-native';
import { Easing, useSharedValue, withTiming } from 'react-native-reanimated';
import Svg, { Path } from 'react-native-svg';
import { AnimatedStroke } from './components/AnimatedStroke';
import { Background } from './components/Background';

export default function App() {
  const vWidth = 1341;
  const vHeight = 425;
  const width = Dimensions.get('window').width - 65;
  const height = width*vHeight/vWidth;
  const svgPath = [
    "M3.39061 123.6C2.19061 126.8 0.190613 132.6 0.190613 136.2C0.190613 145 6.39061 150.6 15.3906 150.6C23.1906 150.6 27.7906 148 29.9906 141.6L38.5906 117.6H91.3906L99.7906 141.6C102.191 148 107.391 150.6 114.591 150.6C122.991 150.6 129.991 144.2 129.991 136.2C129.991 132.6 127.991 126.8 126.791 123.6L87.1906 13.4C83.5906 3.19999 76.9906 1.39999 69.5906 1.39999H61.7906C53.7906 1.39999 48.5906 3.99999 45.7906 11.4L3.39061 123.6ZM84.1906 94.8H45.7906L65.1906 37H65.5906L84.1906 94.8Z",
    "M143.389 136C143.389 145.6 149.189 150.6 157.989 150.6C166.789 150.6 172.589 145.6 172.589 136V113.8L182.789 104.8L210.389 143.8C212.589 147 216.389 150.6 223.589 150.6C231.389 150.6 237.389 143.8 237.389 136.4C237.389 131.6 235.389 128.4 234.389 127L203.989 86.2L225.589 63.6C228.189 60.8 229.989 59.2 229.989 54C229.989 46.6 222.789 40.8 216.189 40.8C211.789 40.8 207.989 43.2 204.989 46.4L172.589 82.4V16C172.589 6.4 166.789 1.39999 157.989 1.39999C149.189 1.39999 143.389 6.4 143.389 16V136Z",
    "M252.411 136C252.411 143.8 255.611 150.6 267.011 150.6C278.411 150.6 281.611 143.8 281.611 136V55.4C281.611 47.6 278.411 40.8 267.011 40.8C255.611 40.8 252.411 47.6 252.411 55.4V136ZM251.811 15.8C251.811 24.2 258.611 31 267.011 31C275.411 31 282.211 24.2 282.211 15.8C282.211 7.4 275.411 0.599991 267.011 0.599991C258.611 0.599991 251.811 7.4 251.811 15.8Z",
    "M308.075 136C308.075 143.8 311.275 150.6 322.675 150.6C334.075 150.6 337.275 143.8 337.275 136V102C337.275 77.8 343.675 69.6 355.475 69.6H360.675C367.875 69.6 375.075 65.8 375.075 55C375.075 46.8 368.275 40.8 359.075 40.8C344.875 40.8 338.275 53.4 334.875 65.6H334.475V54.4C334.475 45.6 328.675 40.8 321.275 40.8C313.875 40.8 308.075 45.6 308.075 54.4V136Z",
    "M481.405 70.8C481.405 49.8 462.005 40.8 434.005 40.8C404.005 40.8 387.605 55.6 387.605 67.2C387.605 73.2 392.605 78.4 400.005 78.4C411.605 78.4 412.205 62.4 433.805 62.4C443.605 62.4 452.205 66 452.205 74.4C452.205 82.8 446.605 84.4 439.605 85.2L421.805 87.2C399.405 89.8 381.005 96.6 381.005 120.8C381.005 139.2 397.405 150.6 414.005 150.6C429.405 150.6 442.605 146.2 454.005 133.6C454.405 142.6 458.605 150.6 471.205 150.6C478.205 150.6 484.405 146 484.405 139.4C484.405 134.8 481.405 132 481.405 119.8V70.8ZM452.205 110.2C452.205 121 442.405 131.4 426.405 131.4C416.405 131.4 410.205 126 410.205 119.4C410.205 110.6 416.805 106.8 429.005 105L439.605 103.4C443.005 102.8 449.005 101.8 452.205 98.8V110.2Z",
    "M506.67 136C506.67 143.8 509.87 150.6 521.27 150.6C532.67 150.6 535.87 143.8 535.87 136V87.4C535.87 73.8 545.87 64.8 557.07 64.8C568.47 64.8 573.07 73.2 573.07 83.6V136C573.07 143.8 576.27 150.6 587.67 150.6C599.07 150.6 602.27 143.8 602.27 136V87.4C602.27 73.8 612.27 64.8 623.47 64.8C634.87 64.8 639.47 73.2 639.47 83.6V136C639.47 143.8 642.67 150.6 654.07 150.6C665.47 150.6 668.67 143.8 668.67 136V76.2C668.67 50 652.47 40.8 632.27 40.8C616.47 40.8 606.07 47.8 597.87 59.2C592.47 45.4 579.87 40.8 569.87 40.8C555.07 40.8 542.27 47.6 534.67 59.2H534.27V55.4C534.27 46.6 529.07 40.8 520.47 40.8C511.87 40.8 506.67 46.6 506.67 55.4V136Z",
    "M782.627 101.2C792.427 101.2 795.427 98.6 795.427 88.6C795.427 64.6 776.227 40.8 742.627 40.8C708.027 40.8 687.427 63.6 687.427 97.6C687.427 123 702.827 150.6 743.627 150.6C761.227 150.6 789.427 142.4 789.427 124.8C789.427 119.4 784.427 113.4 777.427 113.4C765.627 113.4 765.627 127.8 743.627 127.8C726.627 127.8 716.627 116.6 716.627 101.2H782.627ZM716.627 84.4C719.827 70.2 728.627 61.2 743.227 61.2C756.227 61.2 766.227 71 767.827 84.4H716.627Z",
    "M814.287 136C814.287 143.8 817.488 150.6 828.888 150.6C840.288 150.6 843.487 143.8 843.487 136V87.8C843.487 73.2 855.487 64.8 865.688 64.8C878.287 64.8 884.087 73.2 884.087 85V136C884.087 143.8 887.287 150.6 898.688 150.6C910.087 150.6 913.287 143.8 913.287 136V79.2C913.287 49.6 894.087 40.8 876.487 40.8C859.887 40.8 849.287 48.4 841.087 59.2H840.688V55.4C840.688 46.6 836.687 40.8 827.487 40.8C818.287 40.8 814.287 46.6 814.287 55.4V136Z",
    "M1033.55 70.8C1033.55 49.8 1014.15 40.8 986.153 40.8C956.153 40.8 939.753 55.6 939.753 67.2C939.753 73.2 944.753 78.4 952.153 78.4C963.753 78.4 964.353 62.4 985.953 62.4C995.753 62.4 1004.35 66 1004.35 74.4C1004.35 82.8 998.753 84.4 991.753 85.2L973.953 87.2C951.553 89.8 933.153 96.6 933.153 120.8C933.153 139.2 949.553 150.6 966.153 150.6C981.553 150.6 994.753 146.2 1006.15 133.6C1006.55 142.6 1010.75 150.6 1023.35 150.6C1030.35 150.6 1036.55 146 1036.55 139.4C1036.55 134.8 1033.55 132 1033.55 119.8V70.8ZM1004.35 110.2C1004.35 121 994.553 131.4 978.553 131.4C968.553 131.4 962.353 126 962.353 119.4C962.353 110.6 968.953 106.8 981.153 105L991.753 103.4C995.153 102.8 1001.15 101.8 1004.35 98.8V110.2Z",
    "M1060.42 136C1060.42 143.8 1063.62 150.6 1075.02 150.6C1086.42 150.6 1089.62 143.8 1089.62 136V55.4C1089.62 47.6 1086.42 40.8 1075.02 40.8C1063.62 40.8 1060.42 47.6 1060.42 55.4V136ZM1059.82 15.8C1059.82 24.2 1066.62 31 1075.02 31C1083.42 31 1090.22 24.2 1090.22 15.8C1090.22 7.4 1083.42 0.599991 1075.02 0.599991C1066.62 0.599991 1059.82 7.4 1059.82 15.8Z",
    "M1213.48 16C1213.48 6.4 1207.68 1.39999 1198.88 1.39999C1190.08 1.39999 1184.28 6.4 1184.28 16V55.6H1183.88C1178.08 46.2 1168.08 40.8 1155.08 40.8C1124.28 40.8 1110.08 67 1110.08 95C1110.08 132.8 1131.48 150.6 1155.88 150.6C1170.08 150.6 1181.88 144.6 1186.68 132.2H1187.08V136.8C1187.08 145.8 1191.68 150.6 1200.28 150.6C1209.28 150.6 1213.48 145.8 1213.48 136.8V16ZM1139.28 96C1139.28 82.4 1143.88 63.6 1162.48 63.6C1180.28 63.4 1185.88 81 1185.88 96C1185.88 112.6 1179.48 127.8 1162.48 127.8C1146.88 127.4 1139.28 113.2 1139.28 96Z",
    "M1327.55 101.2C1337.35 101.2 1340.35 98.6 1340.35 88.6C1340.35 64.6 1321.15 40.8 1287.55 40.8C1252.95 40.8 1232.35 63.6 1232.35 97.6C1232.35 123 1247.75 150.6 1288.55 150.6C1306.15 150.6 1334.35 142.4 1334.35 124.8C1334.35 119.4 1329.35 113.4 1322.35 113.4C1310.55 113.4 1310.55 127.8 1288.55 127.8C1271.55 127.8 1261.55 116.6 1261.55 101.2H1327.55ZM1261.55 84.4C1264.75 70.2 1273.55 61.2 1288.15 61.2C1301.15 61.2 1311.15 71 1312.75 84.4H1261.55Z",
    "M312.901 286.8C311.101 280.2 305.701 275.8 297.901 275.8C290.101 275.8 283.701 281.8 283.701 289.8C283.701 293.2 284.901 296.4 287.301 303.4L317.701 390C315.501 399 311.301 399.2 307.501 399.2H304.501C296.701 399.2 291.101 403.2 291.101 411C291.101 418 296.501 424.4 309.501 424.4C327.901 424.4 335.901 414 342.901 394L376.701 298.2C378.101 294.4 378.901 291.4 378.901 289C378.901 285.4 375.501 275.8 363.901 275.8C355.901 275.8 351.901 281.4 349.901 288.8L332.101 355H331.701L312.901 286.8Z",
    "M415.357 330.6C415.357 311.6 423.157 297.4 440.157 297.4C457.157 297.4 464.957 311.6 464.957 330.6C464.957 348.4 457.557 364 440.157 364C422.757 364 415.357 348.4 415.357 330.6ZM386.157 330.6C386.157 359.8 400.357 385.6 440.157 385.6C479.957 385.6 494.157 359.8 494.157 330.6C494.157 299.8 475.357 275.8 440.157 275.8C404.957 275.8 386.157 299.8 386.157 330.6Z",
    "M513.018 371C513.018 380.6 518.818 385.6 527.618 385.6C536.418 385.6 542.218 380.6 542.218 371V348.8L552.418 339.8L580.018 378.8C582.218 382 586.018 385.6 593.218 385.6C601.018 385.6 607.018 378.8 607.018 371.4C607.018 366.6 605.018 363.4 604.018 362L573.618 321.2L595.218 298.6C597.818 295.8 599.618 294.2 599.618 289C599.618 281.6 592.418 275.8 585.818 275.8C581.418 275.8 577.618 278.2 574.618 281.4L542.218 317.4V251C542.218 241.4 536.418 236.4 527.618 236.4C518.818 236.4 513.018 241.4 513.018 251V371Z",
    "M717.44 305.8C717.44 284.8 698.04 275.8 670.04 275.8C640.04 275.8 623.64 290.6 623.64 302.2C623.64 308.2 628.64 313.4 636.04 313.4C647.64 313.4 648.24 297.4 669.84 297.4C679.64 297.4 688.24 301 688.24 309.4C688.24 317.8 682.64 319.4 675.64 320.2L657.84 322.2C635.44 324.8 617.04 331.6 617.04 355.8C617.04 374.2 633.44 385.6 650.04 385.6C665.44 385.6 678.64 381.2 690.04 368.6C690.44 377.6 694.64 385.6 707.24 385.6C714.24 385.6 720.44 381 720.44 374.4C720.44 369.8 717.44 367 717.44 354.8V305.8ZM688.24 345.2C688.24 356 678.44 366.4 662.44 366.4C652.44 366.4 646.24 361 646.24 354.4C646.24 345.6 652.84 341.8 665.04 340L675.64 338.4C679.04 337.8 685.04 336.8 688.24 333.8V345.2Z",
    "M750.305 359.6C750.305 376.8 759.105 385.6 780.305 385.6C794.305 385.6 801.505 381 801.505 372.6C801.505 366.4 797.705 362.8 791.305 362.8H787.105C781.905 362.8 779.505 360.4 779.505 356V297.6H788.305C796.905 297.6 801.505 295 801.505 288C801.505 281 796.905 278.4 788.305 278.4H779.505V260.6C779.505 251 773.705 246 764.905 246C756.105 246 750.305 251 750.305 260.6V278.4H745.305C737.105 278.4 733.705 281.6 733.705 288C733.705 294.4 737.105 297.6 745.305 297.6H750.305V359.6Z",
    "M824.329 359.6C824.329 376.8 833.129 385.6 854.329 385.6C868.329 385.6 875.529 381 875.529 372.6C875.529 366.4 871.729 362.8 865.329 362.8H861.129C855.929 362.8 853.529 360.4 853.529 356V297.6H862.329C870.929 297.6 875.529 295 875.529 288C875.529 281 870.929 278.4 862.329 278.4H853.529V260.6C853.529 251 847.729 246 838.929 246C830.129 246 824.329 251 824.329 260.6V278.4H819.329C811.129 278.4 807.729 281.6 807.729 288C807.729 294.4 811.129 297.6 819.329 297.6H824.329V359.6Z",
    "M987.752 305.8C987.752 284.8 968.352 275.8 940.352 275.8C910.352 275.8 893.952 290.6 893.952 302.2C893.952 308.2 898.952 313.4 906.352 313.4C917.952 313.4 918.552 297.4 940.152 297.4C949.952 297.4 958.552 301 958.552 309.4C958.552 317.8 952.952 319.4 945.952 320.2L928.152 322.2C905.752 324.8 887.352 331.6 887.352 355.8C887.352 374.2 903.752 385.6 920.352 385.6C935.752 385.6 948.952 381.2 960.352 368.6C960.752 377.6 964.952 385.6 977.552 385.6C984.552 385.6 990.752 381 990.752 374.4C990.752 369.8 987.752 367 987.752 354.8V305.8ZM958.552 345.2C958.552 356 948.752 366.4 932.752 366.4C922.752 366.4 916.552 361 916.552 354.4C916.552 345.6 923.152 341.8 935.352 340L945.952 338.4C949.352 337.8 955.352 336.8 958.552 333.8V345.2Z",
    "M1048.82 251.8C1048.82 241.6 1043.02 236.4 1033.02 236.4C1023.02 236.4 1017.22 241.6 1017.22 251.8V275C1017.22 278 1017.62 281.2 1018.02 284.4L1024.22 331.2C1025.02 337 1027.82 338.6 1033.02 338.6C1038.22 338.6 1041.02 337 1041.82 331.2L1048.02 284.4C1048.42 281.2 1048.82 278 1048.82 275V251.8ZM1016.62 368C1016.62 377 1024.02 384.4 1033.02 384.4C1042.02 384.4 1049.42 377 1049.42 368C1049.42 359 1042.02 351.6 1033.02 351.6C1024.02 351.6 1016.62 359 1016.62 368Z",
  ]
  const progress = useSharedValue(0);
  useEffect(()=>{
    progress.value = withTiming(1, {duration: 4000, easing: Easing.linear})
  }, [progress])
  return (
    <View style={styles.container}>
      <View style={styles.layer}>
      <Background />
        <Svg width={width} height={height} viewBox={[-10/2, -10/2, vWidth+10/2, vHeight+10].join(" ")}>
          {
            svgPath.map((d, key)=>(
              <AnimatedStroke progress={progress} d={d} key={key} />
            ))
          }
        </Svg>
      </View>
      <StatusBar style="auto" />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
  layer:{
    ...StyleSheet.absoluteFillObject,
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  }
});
